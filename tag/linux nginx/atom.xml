<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://xmengnet.github.io</id>
    <title>心夢博客 • Posts by &#34;linux nginx&#34; tag</title>
    <link href="https://xmengnet.github.io" />
    <updated>2021-03-22T11:31:51.000Z</updated>
    <category term="Linux Nginx" />
    <category term="linux,windows" />
    <entry>
        <id>https://xmengnet.github.io/2021/03/22/Arch%E6%90%AD%E5%BB%BANginx-MariaDB-PHP%E5%8F%8A%E5%85%B6%E9%85%8D%E7%BD%AE/</id>
        <title>Arch搭建Nginx+MariaDB+PHP及其配置</title>
        <link rel="alternate" href="https://xmengnet.github.io/2021/03/22/Arch%E6%90%AD%E5%BB%BANginx-MariaDB-PHP%E5%8F%8A%E5%85%B6%E9%85%8D%E7%BD%AE/"/>
        <content type="html">&lt;h2 id=&#34;写在前面&#34;&gt;&lt;a href=&#34;#写在前面&#34; class=&#34;headerlink&#34; title=&#34;写在前面&#34;&gt;&lt;/a&gt;写在前面&lt;/h2&gt;&lt;p&gt; 最近在阿里云上新买了一个服务器，想换个风格，不想使用&lt;code&gt;Centos&lt;/code&gt;或者&lt;code&gt;Debian&lt;/code&gt;，想试试&lt;code&gt;Arch&lt;/code&gt;做服务器，由于阿里云没有&lt;code&gt;Arch&lt;/code&gt;系统，所以先在&lt;code&gt;Github&lt;/code&gt;上使用&lt;a href=&#34;https://github.com/xmengnet/vps2arch&#34;&gt;vps2arch&lt;/a&gt;转换成Arch系统。&lt;/p&gt;
&lt;p&gt;使用方法也简单，下载&lt;code&gt;vps2arch&lt;/code&gt;那个文件，然后使用&lt;/p&gt;
&lt;figure class=&#34;highlight jboss-cli&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs jboss-cli&#34;&gt;chmod +x vps2arch2&lt;br&gt;&lt;span class=&#34;hljs-string&#34;&gt;./vps2arch2&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;执行后就可以替换成Arch系统，&lt;strong&gt;注意：本人使用的是阿里云的&lt;code&gt;Debian &lt;/code&gt;9.9系统，8.x的安装&lt;code&gt;Arch&lt;/code&gt;失败。&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;如果在&lt;code&gt;vps&lt;/code&gt;上下载&lt;code&gt;github&lt;/code&gt;文件太慢，可以先下载在本地，然后使用&lt;code&gt;rsync&lt;/code&gt;服务上传到服务器，下面是&lt;code&gt;rsync&lt;/code&gt;的用法：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rsync -P -r 你要上传文件的位置如：/home/liyp/Desktop/vps2arch root@ip地址:文件路径如/root&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安装完成记得使用快照备份一下数据，防止系统崩溃导致一切都要重来。&lt;/p&gt;
&lt;p&gt;系统搞好后就开始步入正题了：&lt;/p&gt;
&lt;h2 id=&#34;1、安装相关软件&#34;&gt;&lt;a href=&#34;#1、安装相关软件&#34; class=&#34;headerlink&#34; title=&#34;1、安装相关软件&#34;&gt;&lt;/a&gt;1、安装相关软件&lt;/h2&gt;&lt;p&gt;以下操作都在root用户下执行&lt;/p&gt;
&lt;figure class=&#34;highlight ebnf&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs ebnf&#34;&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;pacman -S nginx php php-fpm mariadb&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;2、配置&#34;&gt;&lt;a href=&#34;#2、配置&#34; class=&#34;headerlink&#34; title=&#34;2、配置&#34;&gt;&lt;/a&gt;2、配置&lt;/h2&gt;&lt;h4 id=&#34;配置-MariaDB-数据库&#34;&gt;&lt;a href=&#34;#配置-MariaDB-数据库&#34; class=&#34;headerlink&#34; title=&#34;配置 MariaDB 数据库&#34;&gt;&lt;/a&gt;配置 &lt;code&gt;MariaDB&lt;/code&gt; 数据库&lt;/h4&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&#34;配置MySQL-root密码，根据自己需求选择。&#34;&gt;&lt;a href=&#34;#配置MySQL-root密码，根据自己需求选择。&#34; class=&#34;headerlink&#34; title=&#34;配置MySQL root密码，根据自己需求选择。&#34;&gt;&lt;/a&gt;配置MySQL root密码，根据自己需求选择。&lt;/h4&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs bash&#34;&gt;mysql_secure_installation&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&#34;配置-MySQL-utf8mb4-字符集&#34;&gt;&lt;a href=&#34;#配置-MySQL-utf8mb4-字符集&#34; class=&#34;headerlink&#34; title=&#34;配置 MySQL utf8mb4 字符集&#34;&gt;&lt;/a&gt;配置 MySQL utf8mb4 字符集&lt;/h4&gt;&lt;figure class=&#34;highlight awk&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs awk&#34;&gt;vim &lt;span class=&#34;hljs-regexp&#34;&gt;/etc/my&lt;/span&gt;.cnf&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&#34;在末尾追加&#34;&gt;&lt;a href=&#34;#在末尾追加&#34; class=&#34;headerlink&#34; title=&#34;在末尾追加&#34;&gt;&lt;/a&gt;在末尾追加&lt;/h4&gt;&lt;figure class=&#34;highlight ini&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs ini&#34;&gt;&lt;span class=&#34;hljs-section&#34;&gt;[client]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;default-character-set&lt;/span&gt;=utf8mb4&lt;br&gt;&lt;span class=&#34;hljs-section&#34;&gt;[mysql]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;default-character-set&lt;/span&gt;=utf8mb4&lt;br&gt;&lt;span class=&#34;hljs-section&#34;&gt;[mysqld]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;character-set-client-handshake&lt;/span&gt; = &lt;span class=&#34;hljs-literal&#34;&gt;FALSE&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;character-set-server&lt;/span&gt;=utf8mb4&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;collation-server&lt;/span&gt; = utf8mb4_unicode_ci&lt;br&gt;&lt;span class=&#34;hljs-attr&#34;&gt;init_connect&lt;/span&gt;=&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;SET NAMES utf8mb4&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&#34;配置-Nginx-支持-PHP&#34;&gt;&lt;a href=&#34;#配置-Nginx-支持-PHP&#34; class=&#34;headerlink&#34; title=&#34;配置 Nginx 支持 PHP&#34;&gt;&lt;/a&gt;配置 &lt;code&gt;Nginx&lt;/code&gt; 支持 &lt;code&gt;PHP&lt;/code&gt;&lt;/h4&gt;&lt;figure class=&#34;highlight awk&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs awk&#34;&gt;location / &amp;#123;&lt;br&gt;    root   &lt;span class=&#34;hljs-regexp&#34;&gt;/usr/&lt;/span&gt;share&lt;span class=&#34;hljs-regexp&#34;&gt;/nginx/&lt;/span&gt;html;&lt;br&gt;    index  index.php index.html index.htm;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;location ~ \.php$ &amp;#123;&lt;br&gt;    fastcgi_pass   unix:&lt;span class=&#34;hljs-regexp&#34;&gt;/run/&lt;/span&gt;php-fpm/php-fpm.sock;&lt;br&gt;    fastcgi_index  index.php;&lt;br&gt;    fastcgi_param  SCRIPT_FILENAME  &lt;span class=&#34;hljs-regexp&#34;&gt;/usr/&lt;/span&gt;share&lt;span class=&#34;hljs-regexp&#34;&gt;/nginx/&lt;/span&gt;html&lt;span class=&#34;hljs-variable&#34;&gt;$fastcgi_script_name&lt;/span&gt;;&lt;br&gt;    include        fastcgi_params;&lt;br&gt;&amp;#125;&lt;br&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;3、服务测试&#34;&gt;&lt;a href=&#34;#3、服务测试&#34; class=&#34;headerlink&#34; title=&#34;3、服务测试&#34;&gt;&lt;/a&gt;3、服务测试&lt;/h1&gt;&lt;figure class=&#34;highlight 1c&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs 1c&#34;&gt;php-fpm -t  &lt;span class=&#34;hljs-meta&#34;&gt;#查看 PHP 配置是否正确&lt;/span&gt;&lt;br&gt;nginx -t &lt;span class=&#34;hljs-meta&#34;&gt;#查看nginx服务配置是否正确&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;4、启动&#34;&gt;&lt;a href=&#34;#4、启动&#34; class=&#34;headerlink&#34; title=&#34;4、启动&#34;&gt;&lt;/a&gt;4、启动&lt;/h1&gt;&lt;figure class=&#34;highlight maxima&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs maxima&#34;&gt;systemctl &lt;span class=&#34;hljs-built_in&#34;&gt;restart&lt;/span&gt; php-fpm&lt;br&gt;&lt;br&gt;systemctl &lt;span class=&#34;hljs-built_in&#34;&gt;restart&lt;/span&gt; nginx&lt;br&gt;&lt;br&gt;systemctl &lt;span class=&#34;hljs-built_in&#34;&gt;restart&lt;/span&gt; mysqld&lt;br&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;5、配置开机启动&#34;&gt;&lt;a href=&#34;#5、配置开机启动&#34; class=&#34;headerlink&#34; title=&#34;5、配置开机启动&#34;&gt;&lt;/a&gt;5、配置开机启动&lt;/h1&gt;&lt;figure class=&#34;highlight routeros&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs routeros&#34;&gt;systemctl &lt;span class=&#34;hljs-builtin-name&#34;&gt;enable&lt;/span&gt; nginx&lt;br&gt;systemctl &lt;span class=&#34;hljs-builtin-name&#34;&gt;enable&lt;/span&gt; mysqld&lt;br&gt;systemctl &lt;span class=&#34;hljs-builtin-name&#34;&gt;enable&lt;/span&gt; php-fpm&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;6、测试&#34;&gt;&lt;a href=&#34;#6、测试&#34; class=&#34;headerlink&#34; title=&#34;6、测试&#34;&gt;&lt;/a&gt;6、测试&lt;/h1&gt;&lt;h4 id=&#34;Nginx-PHP-环境测试&#34;&gt;&lt;a href=&#34;#Nginx-PHP-环境测试&#34; class=&#34;headerlink&#34; title=&#34;Nginx+PHP 环境测试&#34;&gt;&lt;/a&gt;Nginx+PHP 环境测试&lt;/h4&gt;&lt;figure class=&#34;highlight awk&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs awk&#34;&gt;vim &lt;span class=&#34;hljs-regexp&#34;&gt;/usr/&lt;/span&gt;share&lt;span class=&#34;hljs-regexp&#34;&gt;/nginx/&lt;/span&gt;html/index.php&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;输入：&lt;/p&gt;
&lt;figure class=&#34;highlight php&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs php&#34;&gt;&lt;span class=&#34;hljs-meta&#34;&gt;&amp;lt;?php&lt;/span&gt;&lt;br&gt;    phpinfo();&lt;br&gt;&lt;span class=&#34;hljs-meta&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;网页打开：&lt;code&gt;http://服务器ip地址 &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果出现 &lt;code&gt;PHPinfo&lt;/code&gt; 页面则安装成功。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意：建议测试ip的时候在浏览器的隐私界面测试，防止缓存干扰&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;7、卸载&#34;&gt;&lt;a href=&#34;#7、卸载&#34; class=&#34;headerlink&#34; title=&#34;7、卸载&#34;&gt;&lt;/a&gt;7、卸载&lt;/h1&gt;&lt;figure class=&#34;highlight ebnf&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs ebnf&#34;&gt;&lt;span class=&#34;hljs-attribute&#34;&gt;pacman -Rs nginx php-fpm mariadb&lt;/span&gt;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h1 id=&#34;8、数据库相关操作&#34;&gt;&lt;a href=&#34;#8、数据库相关操作&#34; class=&#34;headerlink&#34; title=&#34;8、数据库相关操作&#34;&gt;&lt;/a&gt;8、数据库相关操作&lt;/h1&gt;&lt;p&gt;如果你不想使用root操作数据库，你可以创建一个用户和数据库，把数据库的所有操作权限授予新创建的用户。&lt;/p&gt;
&lt;h4 id=&#34;创建用户&#34;&gt;&lt;a href=&#34;#创建用户&#34; class=&#34;headerlink&#34; title=&#34;创建用户&#34;&gt;&lt;/a&gt;创建用户&lt;/h4&gt;&lt;p&gt;命令:**CREATE USER ‘username’@’host’ IDENTIFIED BY ‘password’; **&lt;/p&gt;
&lt;p&gt;说明:&lt;br&gt;&lt;code&gt;username&lt;/code&gt;- 你将创建的用户名,&lt;br&gt; &lt;code&gt;host &lt;/code&gt;- 指定该用户在哪个主机上可以登陆,如果是本地用户可用&lt;code&gt;localhost&lt;/code&gt;, 如果想让该用户可以从任意远程主机登陆,可以使用通配符%.&lt;br&gt; &lt;code&gt;password&lt;/code&gt; - 该用户的登陆密码,密码可以为空,如果为空则该用户可以不需要密码登陆服务器.&lt;/p&gt;
&lt;p&gt;例子：&lt;/p&gt;
&lt;figure class=&#34;highlight n1ql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs n1ql&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;USER&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;blog&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt; IDENTIFIED &lt;span class=&#34;hljs-keyword&#34;&gt;BY&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;123456&amp;#x27;&lt;/span&gt;;&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h4 id=&#34;授权&#34;&gt;&lt;a href=&#34;#授权&#34; class=&#34;headerlink&#34; title=&#34;授权&#34;&gt;&lt;/a&gt;授权&lt;/h4&gt;&lt;p&gt;命令:&lt;/p&gt;
&lt;figure class=&#34;highlight pgsql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs pgsql&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;GRANT&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;privileges&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;ON&lt;/span&gt; databasename.tablename &lt;span class=&#34;hljs-keyword&#34;&gt;TO&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;username&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;host&amp;#x27;&lt;/span&gt; &lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;


&lt;p&gt; 说明:&lt;code&gt; privileges&lt;/code&gt; - 用户的操作权限,如SELECT , INSERT , UPDATE 等.如果要授予所的权限则使用ALL.;&lt;br&gt; &lt;code&gt;databasename&lt;/code&gt; - 数据库名,&lt;br&gt; &lt;code&gt;tablename&lt;/code&gt;-表名,&lt;br&gt; 如果要授予该用户对所有数据库和表的相应操作权限则可用 * 表示, 如 &lt;em&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight pgsql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;code class=&#34;hljs pgsql&#34;&gt;&lt;span class=&#34;hljs-keyword&#34;&gt;GRANT&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;ALL&lt;/span&gt; &lt;span class=&#34;hljs-keyword&#34;&gt;ON&lt;/span&gt; blog.* &lt;span class=&#34;hljs-keyword&#34;&gt;TO&lt;/span&gt; &lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;blog&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;hljs-string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt;;&lt;br&gt;flush &lt;span class=&#34;hljs-keyword&#34;&gt;privileges&lt;/span&gt;; #刷新权限&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;建议把网站相关的都放到&lt;code&gt;/srv&lt;/code&gt;文件夹下，我网站的&lt;code&gt;/srv&lt;/code&gt;目录如下图：&lt;/p&gt;
&lt;p&gt;&lt;img  src=&#34;https://i.bmp.ovh/imgs/2021/02/5cd1c7b6be031432.png&#34;  &gt;&lt;span class=&#34;image-caption&#34;&gt;/srv目录&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;参考网站：&lt;a href=&#34;https://www.ycmbcd.com/blog/html/15778576279282.html&#34;&gt;https://www.ycmbcd.com/blog/html/15778576279282.html&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                https://www.jianshu.com/p/4466e0cd0bd1
&lt;/code&gt;&lt;/pre&gt;
</content>
        <category term="Linux Nginx" />
        <updated>2021-03-22T11:31:51.000Z</updated>
    </entry>
</feed>
